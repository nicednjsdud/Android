# 액티비티 & 인탠트

## 1. 안드로이드 4대 컴포넌트

### 1) 액티비티 (Activity)

- 화면을 구성하는 가장 기본적인 컴포넌트

### 2) 서비스 (Service)

- 액티비티와 상관없이 백그라운드에서 동작하는 컴포넌트

### 3) 브로드캐스트 리서버 (Broadcast Receiver)

- 문자메세지 도착, 배터리 방전, SD카드 탈부착, 네트워크 환경 변환등이  
  발생하면 전체 응용프로그램들이 들을 수 있도록 방송 신호 보냄

### 4) 컨텐츠 프로바이더 (Content Provider)

- 응용프로그램 사이에 데이터를 상호 공유하기 위한 컴포넌트

## 2. 액티비티

- 일반적으로 액티비티 하나당 XML 파일 하나를 만들어서 사용.
- 애플리케이션을 구성하는 빌딩 블록

### 2) 중요 개념

#### 애플리케이션

- 한 개 이상의 액티비티들로 구성됨.
- 액티비티들은 애플리케이션 안에서 느슨하게 묶여 있음.

#### 태스크

- 스택에 있는 액티비티들

![alt](/assets/images/post/Android/36.png)

#### 액티비티 스택

- Back 키를 누르면 현재 액티비티를 제거하고 이전 액티비티로 되돌아 감.
- 사용자가 방문한 액티비티들은 어딘가에 기억.

![alt](/assets/images/post/Android/37.png)

## 3. 인텐트

- 각각의 화면은 별도의 엑티비티로 구현됨.
- 하나의 액티비티(화면)에서 다른 액티비티(화면)로 전환하려면 어떻게 하여야 하는가?
- 다른 액티비티를 시작하려면 액티비티의 실행에 필요한 여러 가지 정보들을 보내주어야 함.
- 정보를 **인텐트**에 실어서 보냄

### 1) 종류

#### 명시적 인텐트(explicit intent)

- **"애플리케이션A의 컴포넌트B를 구동시켜라"**와 같이 명확하게 지정
- 실행하고자 하는 액티비티의 이름을 적어줌.

* 다른 액티비티의 이름을 명확히 지정할 때 사용하는 방법

```java
  Intent intent = new Intent(this,nextActivity.class);
  startActivity(intent);
```

#### 명시적 인텐트 & 데이터 전달

- 메인 액티비티에서 인텐트에 데이터를 실어 넘긴 후,  
  세컨드 액티비티에서 받은 데이터를 처리하는 방식.

![alt](/assets/images/post/Android/38.png)

#### 양방향 액티비티와 데이터 전달

- 메인 액티비티에서 세컨드 액티비티로 데이터를 넘긴 후에  
  다시 세컨드 액티비티에서 메인 액티비티로 데이터를 돌려주는 경우.

![alt](/assets/images/post/Android/39.png)

#### 암시적 인텐트(implicit intent,묵시적 인텐트)

- 어떤 작업을 하기를 원하지만 그 작업을 담당하는 컴포넌트의 이름을 명확하게 모르는 경우에 사용
- 약속된 액션(Action)을 지정하여 안드로이드에서 제공하는 기존 응용 프로그램을 실행하는 것
- **"지도를 보여줄 수 있는 컴포넌트이면 어떤 것이라도 좋다."**
- **"전화번호를 인텐트 넘긴 후에 전화걸기 응용 프로그램이 실행되는 것"**

##### 인텐트 필터

- 컴포넌트가 처리할 수 있는 인텐트의 종류를 적어놓은 것
  - 액션이 ACTION_MAIn인 인텐트만 처리함.

## 4. 엑티비티 생명주기

- 생성부터 소멸까지의 주기
- 안드로이드 앱은 화면이 작아 동시에 여러개이 액티비티(화면)가 나올 수 없음.
- 앞에 나오는 화면 하나만 활성화된 상태이고 나머지는 모두 비활성화된 상태임.

### 1) 실행상태(running)

- 액티비티가 전경에 위치하고 있으며,

### 2) 일시멈춤 상태(paused)

- 다른 액티비티가 전경에 있으며 포커스를 가지고 있지만 현재 액티비티의 일부가 아직도 화면에 보이고  
  있는 상태

### 3) 정지상태(stopped)

- 액티비티는 배경에 위치함.
